{% extends 'base.html' %}
{% block main %}
<form method="POST" action="/invest">
    <label for="amount">Amount:</label>
    <input type="text" id="amount" name="amount"><br>

    <label for="num_matches">Number of Matches:</label>
    <input type="number" id="num_matches" name="num_matches" min="1" max="20"><br>

    <input type="submit" value="Submit">
    <div class="form-group">
        <label for="leagues">Select leagues:</label>
        <select multiple class="form-control" name="leagues" id="leagues" multiple>
            {% for league in leagues %}
            <option value="{{ league }}">{{ league }}</option>
            {% endfor %}
        </select>
    </div>
</form>

<div>
    {% if predictions %}
    <p>Amount desired to bet: {{ inputs[0] }}</p>
    <p>Matches to bet: {{ inputs[1] }}</p>
    <table>
        <thead>
            <tr>
                <th>League <br>
                    <select class="filter-header" data-col-index="0">
                        <option value="">All</option></th>
                <!-- <th>Round</th> -->
                <th>Week</th>
                <!-- <th>Year</th> -->
                <th>Date <br>
                    <select class="filter-header" data-col-index="2">
                        <option value="">All</option></th>
                <th>Local <br>
                    <select class="filter-header" data-col-index="3">
                        <option value="">All</option></th>
                <th>Goals Local </th>
                <th>Goals Visitor </th>
                <th>Visitor <br>
                    <select class="filter-header" data-col-index="6">
                        <option value="">All</option></th>
                <th>Victor <br>
                    <select class="filter-header" data-col-index="7">
                        <option value="">All</option></th>
                <th>Probability <br>
                    <select class="filter-header" data-col-index="8">
                        <option value="">All</option></th>
                <!-- <th>Real Result <br>
                    <select class="filter-header" data-col-index="9">
                        <option value="">All</option></th> -->
                <th>Bet Amount <br>
                    <select class="filter-header" data-col-index="10">
                        <option value="">All</option></th>
            </tr>
        </thead>
        <tbody>
            {% for prediction in predictions %}
            <tr>
                <td>{{ prediction.League }}</td>
                <!-- <td>{{ prediction.Round }}</td> -->
                <td>{{ prediction.Week }}</td>
                <!-- <td>{{ prediction.Year }}</td> -->
                <td>{{ prediction.Date }}</td>
                <td>{{ prediction.Local }}</td>
                <td class="local">{{ prediction.phg | int }}</td>
                <td class="visitor">{{ prediction.pag | int }}</td>
                <td>{{ prediction.Visitor }}</td>
                <td>{{ prediction.bet }}</td>
                <td>{{ '%.1f' %  (prediction.max_prob * 100) }} %</td>
                <!-- <td>{{ prediction.result }}</td> -->
                <td>{{ "%.2f" % prediction.bet_amount }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>Enter the amount of money you want to invest in any currency, select the number of matches
        you want to bet on (default is 10), and choose the Leagues you're interested in.</p>
   {% endif %}
</div>  

{% endblock %}