{% extends 'base.html' %}
{% block main %}
<div class="container">
<h4 class="m-2">{{ mi }} {{ di }} - {{ mf }} {{ df }}, {{ yf }}</h3>

<div class="search-container col-6">
    <input class="form-control " type="text" placeholder="Search team..." id="search-input">
</div>
<table class="table table-hover">
    <thead>
        <tr>
            <th>League<br>
                <select class="filter-header" data-col-index="0">
                    <option value="">All</option></th>
            <!-- <th>Round</th> -->
            <!-- <th>Week</th> -->
            <!-- <th>Year</th> -->
            <th>Date<br>
                <select class="filter-header" data-col-index="1">
                    <option value="">All</option></th>
            <th>Local<br>
                <select class="filter-header" data-col-index="2">
                    <option value="">All</option></th>
            <th>Goals Local</th>
            <th>Goals Visitor</th>
            <th>Visitor<br>
                <select class="filter-header" data-col-index="5">
                    <option value="">All</option></th>
            <th>Victor <br>
                <select class="filter-header" data-col-index="6">
                    <option value="">All</option></th>
            <th>Probability<br>
                <!-- <select class="filter-header" data-col-index="7">
                    <option value="">All</option></th> -->
            <th>Real Result<br>
                <select class="filter-header" data-col-index="8">
                    <option value="">All</option></th>
        </tr>
    </thead>
    <tbody>
        {% if predictions %}
        {% for prediction in predictions %}
        <tr>
            <td><img src="{{ prediction.flag_url }}" alt="{{ prediction.League }}"><br/>{{ prediction.League }}</td>
            <!-- <td>{{ prediction.Round }}</td> -->
            <!-- <td>{{ prediction.Week }}</td> -->
            <!-- <td>{{ prediction.Year }}</td> -->
            <td>{{ prediction.Date }}</td>
            <td>{{ prediction.Local }}</td>
            <td class="local">{{ prediction.phg | int }} <br> {{ prediction.goalslocal }} </td>
            <td class="visitor">{{ prediction.pag | int }} <br> {{ prediction.goalsvisitor }} </td>
            <td>{{ prediction.Visitor }}</td>
            <td>{{ prediction.bet }}</td>
            <!-- <td>{{ "%.2f" % prediction.max_prob }}</td> -->
            <td>
                {% if prediction.max_prob is not none %}
                  {{ '%.1f' % (prediction.max_prob * 100) }} %
                {% endif %}
            </td>
            <td>{{ prediction.result }}</td>
        </tr>
        {% endfor %}
        {% else %}
        <p class="mx-2 my-4">No predictions available for this week.  <br><br>
            There may not be matches in the countries first division leages for the current week.</p>
        {% endif %}
    </tbody>
</table>

</div>
{% endblock %}